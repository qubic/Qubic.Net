@page "/contracts"
@inject QubicBackendService Backend

<h4><i class="bi bi-file-earmark-code me-2"></i>Contracts</h4>
<p class="text-muted">Smart contract operations and the generic contract browser.</p>

<div class="row g-3 mb-4">
    <div class="col-12">
        <a href="/contracts/browser" class="text-decoration-none">
            <div class="card hub-card border-primary">
                <div class="card-body d-flex align-items-start gap-3">
                    <i class="bi bi-box-seam fs-2 text-primary"></i>
                    <div>
                        <h5 class="card-title mb-1">Contract Browser</h5>
                        <p class="card-text text-muted small mb-0">Browse and query all discovered smart contract functions and procedures</p>
                    </div>
                </div>
            </div>
        </a>
    </div>
</div>

@if (CanBroadcast)
{
    <h6 class="text-muted fw-bold mb-2">DeFi</h6>
    <div class="row g-3 mb-4">
        <div class="col-md-6 col-lg-3">
            <a href="/tx/qx" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-shop fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">QX</h5>
                            <p class="card-text text-muted small mb-0">Assets, transfers, and DEX orders</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6 col-lg-3">
            <a href="/tx/qswap" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-arrow-left-right fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">QSwap</h5>
                            <p class="card-text text-muted small mb-0">AMM pools, liquidity, and swaps</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6 col-lg-3">
            <a href="/tx/qearn" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-piggy-bank fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">QEarn</h5>
                            <p class="card-text text-muted small mb-0">Lock QU to earn staking rewards</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6 col-lg-3">
            <a href="/tx/qbond" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-coin fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">QBond</h5>
                            <p class="card-text text-muted small mb-0">Bond staking and MBond trading</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>

    <h6 class="text-muted fw-bold mb-2">Utility</h6>
    <div class="row g-3 mb-4">
        <div class="col-md-6 col-lg-3">
            <a href="/tx/qutil" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-bar-chart fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">QUtil</h5>
                            <p class="card-text text-muted small mb-0">Polls, distributions, and burns</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6 col-lg-3">
            <a href="/tx/quottery" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-ticket-perforated fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">Quottery</h5>
                            <p class="card-text text-muted small mb-0">Betting and oracle publishing</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>

    <h6 class="text-muted fw-bold mb-2">Infrastructure</h6>
    <div class="row g-3">
        <div class="col-md-6 col-lg-3">
            <a href="/tx/msvault" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-people fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">MSVault</h5>
                            <p class="card-text text-muted small mb-0">Multisig vault management</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6 col-lg-3">
            <a href="/tx/nostromo" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-rocket-takeoff fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">Nostromo</h5>
                            <p class="card-text text-muted small mb-0">Token launchpad and fundraising</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-md-6 col-lg-3">
            <a href="/tx/qvault" class="text-decoration-none">
                <div class="card h-100 hub-card">
                    <div class="card-body d-flex align-items-start gap-3">
                        <i class="bi bi-safe fs-2 text-primary"></i>
                        <div>
                            <h5 class="card-title mb-1">QVault</h5>
                            <p class="card-text text-muted small mb-0">Administrative vault operations</p>
                        </div>
                    </div>
                </div>
            </a>
        </div>
    </div>
}

@code {
    private bool CanBroadcast => Backend.ActiveBackend is QueryBackend.Rpc or QueryBackend.DirectNetwork;
}
