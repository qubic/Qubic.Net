// <auto-generated>
// Generated by Qubic.ContractGen from QUtil.h.
// Do not edit manually. Re-run the generator after updating deps/qubic-core.
// </auto-generated>

using System.Buffers.Binary;
using Qubic.Core.Contracts;
using Qubic.Core.Payloads;

namespace Qubic.Core.Contracts.Qutil;

/// <summary>Qutil contract (index 4).</summary>
public static class QutilContract
{
    /// <summary>Contract index on the Qubic network.</summary>
    public const int ContractIndex = 4;

    /// <summary>Gets the 32-byte contract public key.</summary>
    public static byte[] GetPublicKey() => QubicContracts.GetContractPublicKey(ContractIndex);

    /// <summary>Read-only query function IDs.</summary>
    public static class Functions
    {
        /// <summary>GetSendToManyV1Fee (inputType=1).</summary>
        public const uint GetSendToManyV1Fee = 1;
        /// <summary>GetTotalNumberOfAssetShares (inputType=2).</summary>
        public const uint GetTotalNumberOfAssetShares = 2;
        /// <summary>GetCurrentResult (inputType=3).</summary>
        public const uint GetCurrentResult = 3;
        /// <summary>GetPollsByCreator (inputType=4).</summary>
        public const uint GetPollsByCreator = 4;
        /// <summary>GetCurrentPollId (inputType=5).</summary>
        public const uint GetCurrentPollId = 5;
        /// <summary>GetPollInfo (inputType=6).</summary>
        public const uint GetPollInfo = 6;
        /// <summary>GetFees (inputType=7).</summary>
        public const uint GetFees = 7;
        /// <summary>QueryFeeReserve (inputType=8).</summary>
        public const uint QueryFeeReserve = 8;
    }

    /// <summary>State-mutating procedure IDs.</summary>
    public static class Procedures
    {
        /// <summary>SendToManyV1 (inputType=1).</summary>
        public const uint SendToManyV1 = 1;
        /// <summary>BurnQubic (inputType=2).</summary>
        public const uint BurnQubic = 2;
        /// <summary>SendToManyBenchmark (inputType=3).</summary>
        public const uint SendToManyBenchmark = 3;
        /// <summary>CreatePoll (inputType=4).</summary>
        public const uint CreatePoll = 4;
        /// <summary>Vote (inputType=5).</summary>
        public const uint Vote = 5;
        /// <summary>CancelPoll (inputType=6).</summary>
        public const uint CancelPoll = 6;
        /// <summary>DistributeQuToShareholders (inputType=7).</summary>
        public const uint DistributeQuToShareholders = 7;
        /// <summary>BurnQubicForContract (inputType=8).</summary>
        public const uint BurnQubicForContract = 8;
    }
}

// ═══ Function: GetSendToManyV1Fee (inputType=1) ═══

/// <summary>Input for query (empty).</summary>
public readonly struct GetSendToManyV1FeeInput : ISmartContractInput
{
    public int SerializedSize => 0;
    public byte[] ToBytes() => [];
}

/// <summary>Output.</summary>
public readonly struct GetSendToManyV1FeeOutput : ISmartContractOutput<GetSendToManyV1FeeOutput>
{
    public long Fee { get; init; }

    public static GetSendToManyV1FeeOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new GetSendToManyV1FeeOutput
        {
            Fee = BinaryPrimitives.ReadInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Function: GetTotalNumberOfAssetShares (inputType=2) ═══

/// <summary>Input for query.</summary>
public readonly struct GetTotalNumberOfAssetSharesInput : ISmartContractInput
{
    public const int Size = 40;

    public int SerializedSize => Size;

    public required byte[] Issuer { get; init; }
    public ulong AssetName { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Issuer.AsSpan(0, 32).CopyTo(bytes.AsSpan(0));
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(32), AssetName);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetTotalNumberOfAssetSharesOutput : ISmartContractOutput<GetTotalNumberOfAssetSharesOutput>
{
    public long Value { get; init; }

    public static GetTotalNumberOfAssetSharesOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new GetTotalNumberOfAssetSharesOutput
        {
            Value = BinaryPrimitives.ReadInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Function: GetCurrentResult (inputType=3) ═══

/// <summary>Input for query.</summary>
public readonly struct GetCurrentResultInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong Poll_id { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Poll_id);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetCurrentResultOutput : ISmartContractOutput<GetCurrentResultOutput>
{
    public ulong[] Result { get; init; }
    public ulong[] Voter_count { get; init; }
    public ulong Is_active { get; init; }

    public static GetCurrentResultOutput FromBytes(ReadOnlySpan<byte> data)
    {
        var result = new ulong[0];
        for (int i = 0; i < 0; i++)
        {
            result[i] = BinaryPrimitives.ReadUInt64LittleEndian(data[(0 + i * 8)..]);
        }
        var voter_count = new ulong[0];
        for (int i = 0; i < 0; i++)
        {
            voter_count[i] = BinaryPrimitives.ReadUInt64LittleEndian(data[(0 + i * 8)..]);
        }
        return new GetCurrentResultOutput
        {
            Result = result,
            Voter_count = voter_count,
            Is_active = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Function: GetPollsByCreator (inputType=4) ═══

/// <summary>Input for query.</summary>
public readonly struct GetPollsByCreatorInput : ISmartContractInput
{
    public const int Size = 32;

    public int SerializedSize => Size;

    public required byte[] Creator { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Creator.AsSpan(0, 32).CopyTo(bytes.AsSpan(0));
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetPollsByCreatorOutput : ISmartContractOutput<GetPollsByCreatorOutput>
{
    public ulong[] Poll_ids { get; init; }
    public ulong Count { get; init; }

    public static GetPollsByCreatorOutput FromBytes(ReadOnlySpan<byte> data)
    {
        var poll_ids = new ulong[0];
        for (int i = 0; i < 0; i++)
        {
            poll_ids[i] = BinaryPrimitives.ReadUInt64LittleEndian(data[(0 + i * 8)..]);
        }
        return new GetPollsByCreatorOutput
        {
            Poll_ids = poll_ids,
            Count = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Function: GetCurrentPollId (inputType=5) ═══

/// <summary>Input for query (empty).</summary>
public readonly struct GetCurrentPollIdInput : ISmartContractInput
{
    public int SerializedSize => 0;
    public byte[] ToBytes() => [];
}

/// <summary>Output.</summary>
public readonly struct GetCurrentPollIdOutput : ISmartContractOutput<GetCurrentPollIdOutput>
{
    public ulong Current_poll_id { get; init; }
    public ulong[] Active_poll_ids { get; init; }
    public ulong Active_count { get; init; }

    public static GetCurrentPollIdOutput FromBytes(ReadOnlySpan<byte> data)
    {
        var active_poll_ids = new ulong[0];
        for (int i = 0; i < 0; i++)
        {
            active_poll_ids[i] = BinaryPrimitives.ReadUInt64LittleEndian(data[(8 + i * 8)..]);
        }
        return new GetCurrentPollIdOutput
        {
            Current_poll_id = BinaryPrimitives.ReadUInt64LittleEndian(data[0..]),
            Active_poll_ids = active_poll_ids,
            Active_count = BinaryPrimitives.ReadUInt64LittleEndian(data[8..])
        };
    }
}

// ═══ Function: GetPollInfo (inputType=6) ═══

/// <summary>Input for query.</summary>
public readonly struct GetPollInfoInput : ISmartContractInput
{
    public const int Size = 8;

    public int SerializedSize => Size;

    public ulong Poll_id { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Poll_id);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct GetPollInfoOutput : ISmartContractOutput<GetPollInfoOutput>
{
    public ulong Found { get; init; }
    public byte[] Poll_info { get; init; }
    public byte[] Poll_link { get; init; }

    public static GetPollInfoOutput FromBytes(ReadOnlySpan<byte> data)
    {
        var poll_link = new byte[0];
        for (int i = 0; i < 0; i++)
        {
            poll_link[i] = data.Slice(8 + i * 1, 1)[0];
        }
        return new GetPollInfoOutput
        {
            Found = BinaryPrimitives.ReadUInt64LittleEndian(data[0..]),
            Poll_info = [] /* unknown type QUTILPoll */,
            Poll_link = poll_link
        };
    }
}

// ═══ Function: GetFees (inputType=7) ═══

/// <summary>Input for query (empty).</summary>
public readonly struct GetFeesInput : ISmartContractInput
{
    public int SerializedSize => 0;
    public byte[] ToBytes() => [];
}

/// <summary>Output.</summary>
public readonly struct GetFeesOutput : ISmartContractOutput<GetFeesOutput>
{
    public long Smt1InvocationFee { get; init; }
    public long PollCreationFee { get; init; }
    public long PollVoteFee { get; init; }
    public long DistributeQuToShareholderFeePerShareholder { get; init; }
    public long ShareholderProposalFee { get; init; }

    public static GetFeesOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new GetFeesOutput
        {
            Smt1InvocationFee = BinaryPrimitives.ReadInt64LittleEndian(data[0..]),
            PollCreationFee = BinaryPrimitives.ReadInt64LittleEndian(data[8..]),
            PollVoteFee = BinaryPrimitives.ReadInt64LittleEndian(data[16..]),
            DistributeQuToShareholderFeePerShareholder = BinaryPrimitives.ReadInt64LittleEndian(data[24..]),
            ShareholderProposalFee = BinaryPrimitives.ReadInt64LittleEndian(data[32..])
        };
    }
}

// ═══ Function: QueryFeeReserve (inputType=8) ═══

/// <summary>Input for query.</summary>
public readonly struct QueryFeeReserveInput : ISmartContractInput
{
    public const int Size = 4;

    public int SerializedSize => Size;

    public uint ContractIndex { get; init; }

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt32LittleEndian(bytes.AsSpan(0), ContractIndex);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct QueryFeeReserveOutput : ISmartContractOutput<QueryFeeReserveOutput>
{
    public long ReserveAmount { get; init; }

    public static QueryFeeReserveOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new QueryFeeReserveOutput
        {
            ReserveAmount = BinaryPrimitives.ReadInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: SendToManyV1 (inputType=1) ═══

/// <summary>Input for procedure (empty payload).</summary>
public sealed class SendToManyV1Payload : ITransactionPayload, ISmartContractInput
{
    public ushort InputType => 1;
    public ushort InputSize => 0;
    public int SerializedSize => 0;
    public byte[] GetPayloadBytes() => [];
    public byte[] ToBytes() => [];
}

/// <summary>Output.</summary>
public readonly struct SendToManyV1Output : ISmartContractOutput<SendToManyV1Output>
{
    public int ReturnCode { get; init; }

    public static SendToManyV1Output FromBytes(ReadOnlySpan<byte> data)
    {
        return new SendToManyV1Output
        {
            ReturnCode = BinaryPrimitives.ReadInt32LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: BurnQubic (inputType=2) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class BurnQubicPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 8;

    public ushort InputType => 2;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public long Amount { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteInt64LittleEndian(bytes.AsSpan(0), Amount);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct BurnQubicOutput : ISmartContractOutput<BurnQubicOutput>
{
    public long Amount { get; init; }

    public static BurnQubicOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new BurnQubicOutput
        {
            Amount = BinaryPrimitives.ReadInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: SendToManyBenchmark (inputType=3) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class SendToManyBenchmarkPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 16;

    public ushort InputType => 3;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public long DstCount { get; init; }
    public long NumTransfersEach { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteInt64LittleEndian(bytes.AsSpan(0), DstCount);
        BinaryPrimitives.WriteInt64LittleEndian(bytes.AsSpan(8), NumTransfersEach);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct SendToManyBenchmarkOutput : ISmartContractOutput<SendToManyBenchmarkOutput>
{
    public long DstCount { get; init; }
    public int ReturnCode { get; init; }
    public long Total { get; init; }

    public static SendToManyBenchmarkOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new SendToManyBenchmarkOutput
        {
            DstCount = BinaryPrimitives.ReadInt64LittleEndian(data[0..]),
            ReturnCode = BinaryPrimitives.ReadInt32LittleEndian(data[8..]),
            Total = BinaryPrimitives.ReadInt64LittleEndian(data[16..])
        };
    }
}

// ═══ Procedure: CreatePoll (inputType=4) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class CreatePollPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 56;

    public ushort InputType => 4;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public required byte[] Poll_name { get; init; }
    public ulong Poll_type { get; init; }
    public ulong Min_amount { get; init; }
    public byte[] Github_link { get; init; }
    public required QubicAsset[] Allowed_assets { get; init; }
    public ulong Num_assets { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Poll_name.AsSpan(0, 32).CopyTo(bytes.AsSpan(0));
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(32), Poll_type);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(40), Min_amount);
        for (int i = 0; i < 0 && Github_link != null && i < Github_link.Length; i++)
        {
            bytes.AsSpan(48 + i * 1)[0] = Github_link[i];
        }
        for (int i = 0; i < 0 && Allowed_assets != null && i < Allowed_assets.Length; i++)
        {
            Allowed_assets[i].WriteTo(bytes.AsSpan(48 + i * 40));
        }
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(48), Num_assets);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct CreatePollOutput : ISmartContractOutput<CreatePollOutput>
{
    public ulong Poll_id { get; init; }

    public static CreatePollOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new CreatePollOutput
        {
            Poll_id = BinaryPrimitives.ReadUInt64LittleEndian(data[0..])
        };
    }
}

// ═══ Procedure: Vote (inputType=5) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class VotePayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 56;

    public ushort InputType => 5;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public ulong Poll_id { get; init; }
    public required byte[] Address { get; init; }
    public ulong Amount { get; init; }
    public ulong Chosen_option { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Poll_id);
        Address.AsSpan(0, 32).CopyTo(bytes.AsSpan(8));
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(40), Amount);
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(48), Chosen_option);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct VoteOutput : ISmartContractOutput<VoteOutput>
{
    public bool Success { get; init; }

    public static VoteOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new VoteOutput
        {
            Success = (data.Slice(0, 1)[0] != 0)
        };
    }
}

// ═══ Procedure: CancelPoll (inputType=6) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class CancelPollPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 8;

    public ushort InputType => 6;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public ulong Poll_id { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt64LittleEndian(bytes.AsSpan(0), Poll_id);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct CancelPollOutput : ISmartContractOutput<CancelPollOutput>
{
    public bool Success { get; init; }

    public static CancelPollOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new CancelPollOutput
        {
            Success = (data.Slice(0, 1)[0] != 0)
        };
    }
}

// ═══ Procedure: DistributeQuToShareholders (inputType=7) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class DistributeQuToShareholdersPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 40;

    public ushort InputType => 7;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public required QubicAsset Asset { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        Asset.WriteTo(bytes.AsSpan(0));
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct DistributeQuToShareholdersOutput : ISmartContractOutput<DistributeQuToShareholdersOutput>
{
    public long Shareholders { get; init; }
    public long TotalShares { get; init; }
    public long AmountPerShare { get; init; }
    public long Fees { get; init; }

    public static DistributeQuToShareholdersOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new DistributeQuToShareholdersOutput
        {
            Shareholders = BinaryPrimitives.ReadInt64LittleEndian(data[0..]),
            TotalShares = BinaryPrimitives.ReadInt64LittleEndian(data[8..]),
            AmountPerShare = BinaryPrimitives.ReadInt64LittleEndian(data[16..]),
            Fees = BinaryPrimitives.ReadInt64LittleEndian(data[24..])
        };
    }
}

// ═══ Procedure: BurnQubicForContract (inputType=8) ═══

/// <summary>Input payload for procedure.</summary>
public sealed class BurnQubicForContractPayload : ITransactionPayload, ISmartContractInput
{
    public const int Size = 4;

    public ushort InputType => 8;
    public ushort InputSize => Size;
    public int SerializedSize => Size;

    public uint ContractIndexBurnedFor { get; init; }

    public byte[] GetPayloadBytes() => ToBytes();

    public byte[] ToBytes()
    {
        var bytes = new byte[Size];
        BinaryPrimitives.WriteUInt32LittleEndian(bytes.AsSpan(0), ContractIndexBurnedFor);
        return bytes;
    }
}

/// <summary>Output.</summary>
public readonly struct BurnQubicForContractOutput : ISmartContractOutput<BurnQubicForContractOutput>
{
    public long Amount { get; init; }

    public static BurnQubicForContractOutput FromBytes(ReadOnlySpan<byte> data)
    {
        return new BurnQubicForContractOutput
        {
            Amount = BinaryPrimitives.ReadInt64LittleEndian(data[0..])
        };
    }
}
